language: javascript
node_version: "20.11.0"
tools:
  - name: jest
    version: "29.7.0"
  - name: "@playwright/test"
    version: "1.40.0"
  - name: eslint
    version: "8.56.0"
  - name: typescript
    version: "5.3.3"

artifacts:
  - file: "jest-results.json"
    type: jest-json
    format: json
    description: "Jest JSON reporter: 5 pass, 2 fail, 1 skip"
    supports_auto_detection: true
    validator: "validateJestJSON"
    parsers: []
    coverage_target: "validators/jest-validator.ts"

  - file: "playwright-results.json"
    type: playwright-json
    format: json
    description: "Playwright JSON: 3 pass, 1 fail"
    supports_auto_detection: true
    validator: "validatePlaywrightJSON"
    parsers: []
    coverage_target: "validators/playwright-validator.ts"

  - file: "eslint-output.txt"
    type: eslint-txt
    format: txt
    description: "ESLint output with violations"
    supports_auto_detection: false
    validator: "validateESLintOutput"
    parsers: ["extractLinterOutput"]
    coverage_target: "validators/linter-validator.ts"

  - file: "tsc-output.txt"
    type: tsc-txt
    format: txt
    description: "TypeScript compiler errors"
    supports_auto_detection: false
    validator: "validateTSCOutput"
    parsers: ["extractLinterOutput"]
    coverage_target: "validators/linter-validator.ts"

commands:
  generate: "docker-compose up --build"
  clean: "docker-compose down -v && rm -rf ../../generated/javascript"
